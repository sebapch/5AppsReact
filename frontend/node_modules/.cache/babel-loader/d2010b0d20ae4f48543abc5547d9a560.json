{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{BrowserRouter,Switch,Route}from'react-router-dom';import ProtectedRoute from'./components/auth/ProtectedRoute';import axios from'axios';import Home from'./components/pages/Home';import Register from'./components/auth/Register';import Login from'./components/auth/Login';import UserContext from'./context/userContext';import'./App.css';import Early from'./components/pages/Early';import Step1 from'./components/pages/steps/step1';import Vaults from'./components/pages/Vaults/Vaults';import Profile from'./components/pages/Profile/Profile';import Depositar from'./components/pages/Profile/Depositar';import Settings from'./components/pages/Settings/Settings';import Binance from'./components/pages/Profile/Binance';import WalletPage from'./components/pages/Profile/Wallet';import DrawerLayout from'./components/layout/Drawer/DrawerLayout';import Step2 from'./components/pages/steps/step2';import Step3 from'./components/pages/steps/step3';import Step4 from'./components/pages/steps/step4';import{VaultProvider}from'./context/vaultContext';import Historial from'./components/pages/Historial/Historial';import Admin from'./components/pages/Private/Admin';import EditData from'./components/pages/Private/EditData';import VaultInfo from'./components/pages/VaultInfo/VaultInfo';import EditVaultData from'./components/pages/Private/EditVaultData';function App(){var _useState=useState({token:undefined,user:undefined}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];useEffect(function(){var checkLoggedIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,tokenResponse,userRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"auth-token\");if(token===null){localStorage.setItem(\"auth-token\",\"\");token=\"\";}_context.next=4;return axios.post('/users/tokenIsValid',null,{headers:{\"x-auth-token\":token}});case 4:tokenResponse=_context.sent;if(!tokenResponse.data){_context.next=10;break;}_context.next=8;return axios.get(\"/users/\",{headers:{\"x-auth-token\":token}});case 8:userRes=_context.sent;setUserData({token:token,user:userRes.data});case 10:case\"end\":return _context.stop();}}},_callee);}));return function checkLoggedIn(){return _ref.apply(this,arguments);};}();checkLoggedIn();},[]);return/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(UserContext.Provider,{value:{userData:userData,setUserData:setUserData}},/*#__PURE__*/React.createElement(DrawerLayout,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:Register}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(Route,{path:\"/perfil\",component:Profile}),/*#__PURE__*/React.createElement(Route,{path:\"/depositar\",component:Depositar}),/*#__PURE__*/React.createElement(Route,{path:\"/bpay\",component:Binance}),/*#__PURE__*/React.createElement(Route,{path:\"/vaults\",component:Vaults}),/*#__PURE__*/React.createElement(Route,{path:\"/opciones\",component:Settings}),/*#__PURE__*/React.createElement(Route,{path:\"/historial\",component:Historial}),/*#__PURE__*/React.createElement(Route,{path:\"/transfer\",component:WalletPage}),/*#__PURE__*/React.createElement(Route,{path:\"/vaultinfo/:userid/:vaultid\",component:VaultInfo}),/*#__PURE__*/React.createElement(Route,{path:\"/admin\",component:Admin}),/*#__PURE__*/React.createElement(Route,{path:\"/edit/:id\",component:EditData}),/*#__PURE__*/React.createElement(Route,{path:\"/editvault/:id/:vaultid\",component:EditVaultData}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/early\",component:Early}),/*#__PURE__*/React.createElement(VaultProvider,null,/*#__PURE__*/React.createElement(Route,{path:\"/step1\",component:Step1}),/*#__PURE__*/React.createElement(Route,{path:\"/step2\",component:Step2}),/*#__PURE__*/React.createElement(Route,{path:\"/step3\",component:Step3}),/*#__PURE__*/React.createElement(Route,{path:\"/step4\",component:Step4}))))));}export default App;","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Switch","Route","ProtectedRoute","axios","Home","Register","Login","UserContext","Early","Step1","Vaults","Profile","Depositar","Settings","Binance","WalletPage","DrawerLayout","Step2","Step3","Step4","VaultProvider","Historial","Admin","EditData","VaultInfo","EditVaultData","App","token","undefined","user","userData","setUserData","checkLoggedIn","localStorage","getItem","setItem","post","headers","tokenResponse","data","get","userRes"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport ProtectedRoute from './components/auth/ProtectedRoute';\r\nimport axios from 'axios';\r\nimport Home from './components/pages/Home';\r\nimport Register from './components/auth/Register';\r\nimport Login from './components/auth/Login';\r\nimport UserContext from './context/userContext';\r\nimport './App.css';\r\nimport Early from './components/pages/Early';\r\nimport Step1 from './components/pages/steps/step1';\r\nimport Vaults from './components/pages/Vaults/Vaults'\r\nimport Profile from './components/pages/Profile/Profile';\r\nimport Depositar from './components/pages/Profile/Depositar';\r\nimport Settings from './components/pages/Settings/Settings';\r\nimport Binance from './components/pages/Profile/Binance';\r\nimport WalletPage from './components/pages/Profile/Wallet'\r\nimport DrawerLayout from './components/layout/Drawer/DrawerLayout';\r\nimport Step2 from './components/pages/steps/step2';\r\nimport Step3 from './components/pages/steps/step3';\r\nimport Step4 from './components/pages/steps/step4';\r\nimport {VaultProvider} from './context/vaultContext';\r\nimport Historial from './components/pages/Historial/Historial';\r\nimport Admin from './components/pages/Private/Admin';\r\nimport EditData from './components/pages/Private/EditData';\r\nimport VaultInfo from './components/pages/VaultInfo/VaultInfo';\r\nimport EditVaultData from './components/pages/Private/EditVaultData';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [ userData, setUserData] = useState({\r\n    token: undefined,\r\n    user: undefined\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkLoggedIn = async () => {\r\n      let token = localStorage.getItem(\"auth-token\");\r\n      if(token === null){\r\n        localStorage.setItem(\"auth-token\", \"\");\r\n        token = \"\";\r\n      }\r\n      const tokenResponse = await axios.post('/users/tokenIsValid', null, {headers: {\"x-auth-token\": token}});\r\n      if (tokenResponse.data) {\r\n        const userRes = await axios.get(\"/users/\", {\r\n          headers: { \"x-auth-token\": token },\r\n        });\r\n        setUserData({\r\n          token,\r\n          user: userRes.data,\r\n        });\r\n      }\r\n    }\r\n\r\n    checkLoggedIn();\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n    \r\n      <UserContext.Provider value={{ userData, setUserData }}>\r\n         {/* <Header />  */}\r\n         \r\n         <DrawerLayout>\r\n        <Switch>\r\n          \r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/perfil\" component={Profile} />\r\n          <Route path=\"/depositar\" component={Depositar} />\r\n          <Route path=\"/bpay\" component={Binance} />\r\n          <Route path=\"/vaults\" component={Vaults} />\r\n          <Route path=\"/opciones\" component={Settings} />\r\n          <Route path=\"/historial\" component={Historial} />\r\n          <Route path=\"/transfer\" component={WalletPage} />\r\n          <Route path=\"/vaultinfo/:userid/:vaultid\" component={VaultInfo} />\r\n          <Route path=\"/admin\" component={Admin} />\r\n          <Route path=\"/edit/:id\" component={EditData} />\r\n          <Route path=\"/editvault/:id/:vaultid\" component={EditVaultData} />\r\n          <ProtectedRoute path=\"/early\" component={Early} />\r\n          <VaultProvider>\r\n            <Route path=\"/step1\" component={Step1} />\r\n            <Route path=\"/step2\" component={Step2} />\r\n            <Route path=\"/step3\" component={Step3} />\r\n            <Route path=\"/step4\" component={Step4} />\r\n\r\n          </VaultProvider>\r\n\r\n        </Switch>\r\n        </DrawerLayout>\r\n        </UserContext.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}