{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import Axios from'axios';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Button from'@mui/material/Button';var EditData=function EditData(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),saldo=_useState4[0],setSaldo=_useState4[1];function traerUser(user){Axios.get(\"/users/api/edit/\".concat(id)).then(function(res){setUser(function(user){return res.data;});}).catch(function(err){console.log(err);});}useEffect(function(){traerUser();},[]);var saveUser=function saveUser(){Axios.post(\"/users/api/edit/\".concat(id),{saldo:saldo,userId:user._id}).then(function(res){console.log(res);console.log(saldo);}).catch(function(err){console.log(err);});};var activateVault=function activateVault(vault){console.log(vault);Axios.post(\"/users/api/activate/\".concat(id,\"/\").concat(vault),{userId:user._id,vaultId:vault}).then(function(res){console.log(res);}).catch(function(err){console.log(err);});window.location.reload();};console.log(user);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Editar usuario\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Nombre del usuario: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:user.displayName}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Email: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Saldo disponible: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:user.saldo,onChange:function onChange(e){return setSaldo(e.target.value);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"ID del usuario: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:user._id}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:saveUser},\"Editar datos\"),/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"ID\"),/*#__PURE__*/React.createElement(TableCell,null,\"Vault\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Timelock\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Invertido\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Auto Renovar\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Estado\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Actions\"))),/*#__PURE__*/React.createElement(TableBody,null,(user===null||user===void 0?void 0:user.vaults)&&user.vaults.map(function(vault,index){return/*#__PURE__*/React.createElement(TableRow,{key:index,sx:{'&:last-child td, &:last-child th':{border:0}}},/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},vault._id),/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},vault.vault),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},vault.timelock),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},vault.funds),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},vault.autoRenew?'activado':'no activado'),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},vault.activated?'activa':' no activa'),!vault.activated?/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:function onClick(){return activateVault(vault===null||vault===void 0?void 0:vault._id);}},\"Aceptar y activar\")):null,/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Link,{to:\"/editvault/\".concat(id,\"/\").concat(vault._id)},\"Editar\")));}))))));};export default EditData;","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/components/pages/Private/EditData.jsx"],"names":["React","useState","useEffect","useParams","Link","Axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","EditData","id","user","setUser","saldo","setSaldo","traerUser","get","then","res","data","catch","err","console","log","saveUser","post","userId","_id","activateVault","vault","vaultId","window","location","reload","displayName","email","e","target","value","minWidth","vaults","map","index","border","timelock","funds","autoRenew","activated"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport Axios from 'axios';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nconst EditData = () => {\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState([]);\r\n  const [saldo, setSaldo] = useState();\r\n\r\n  function traerUser (user){\r\n    Axios.get(`/users/api/edit/${id}`)\r\n            .then(res => {\r\n              setUser(user => res.data)\r\n            })\r\n            .catch(err => {\r\n              console.log(err)\r\n            })\r\n  }\r\n  useEffect(() => {\r\n    traerUser();\r\n  }, []);\r\n\r\n  const saveUser = () => {\r\n    Axios.post(`/users/api/edit/${id}`, {\r\n      saldo: saldo,\r\n      userId : user._id\r\n    })\r\n      .then(res => {\r\n        console.log(res)\r\n        console.log(saldo)\r\n      }\r\n      ).catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  const activateVault = (vault) => {\r\n    console.log(vault);\r\n    Axios.post(`/users/api/activate/${id}/${vault}`, {\r\n      \r\n      userId: user._id,\r\n      vaultId: vault\r\n    })\r\n      .then(res => {\r\n        console.log(res)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      window.location.reload();\r\n  }\r\n\r\n  console.log(user);\r\n\r\n  return (\r\n    <>\r\n      <h1>Editar usuario</h1>\r\n      <form>\r\n      <label>Nombre del usuario: </label>\r\n      <input type=\"text\" defaultValue={user.displayName}/>\r\n      <br/>\r\n      <label>Email: </label>\r\n      <input type=\"text\" defaultValue={user?.email}/>\r\n      <br/>\r\n      <label>Saldo disponible: </label>\r\n      <input type=\"text\" defaultValue={user.saldo} onChange={e => setSaldo(e.target.value)}/>\r\n      <br/>\r\n      <label>ID del usuario: </label>\r\n      <input type=\"text\" defaultValue={user._id}/>\r\n      <br/>\r\n      <button onClick={saveUser}>Editar datos</button>\r\n        <TableContainer >\r\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n            <TableCell >ID</TableCell>\r\n              <TableCell>Vault</TableCell>\r\n              <TableCell align=\"right\">Timelock</TableCell>\r\n              <TableCell align=\"right\">Invertido</TableCell>\r\n              <TableCell align=\"right\">Auto Renovar</TableCell>\r\n              <TableCell align=\"right\">Estado</TableCell>\r\n              <TableCell align=\"right\">Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {user?.vaults && user.vaults.map((vault, index) => (\r\n              <TableRow\r\n                key={index}\r\n                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n              >\r\n                <TableCell align=\"right\">{vault._id}</TableCell>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {vault.vault}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{vault.timelock}</TableCell>\r\n                <TableCell align=\"right\">{vault.funds}</TableCell>\r\n                <TableCell align=\"right\">{(vault.autoRenew) ? 'activado' : 'no activado'}</TableCell>\r\n                <TableCell align=\"right\">{(vault.activated) ? 'activa' : ' no activa'}</TableCell>\r\n                {(!vault.activated) ? <TableCell align=\"right\"><Button variant=\"contained\" onClick={() => activateVault(vault?._id)}>Aceptar y activar</Button></TableCell> : null}\r\n                <TableCell align=\"right\"><Link to={`/editvault/${id}/${vault._id}`}>Editar</Link></TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    \r\n      </form>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EditData"]},"metadata":{},"sourceType":"module"}