{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\src\\\\components\\\\pages\\\\steps\\\\step4.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Axios from 'axios';\nimport { Grid } from \"@mui/material\";\nimport UserContext from \"../../../context/userContext\";\nimport Mascota from \"../../../assets/Mascota.png\";\nimport Reloj from \"../../../assets/icons/RelojArena.png\";\nimport { Button } from \"@mui/material\";\nimport \"./steps.css\";\nimport \"./step4.css\";\n\nconst Step4 = () => {\n  var _userData$user;\n\n  const {\n    userData,\n    setUserData\n  } = useContext(UserContext);\n  const [vault, setVault] = useState([]);\n  const [funds, setFunds] = useState(0);\n  const [lastElement, setLastElement] = useState([]);\n  let idUser = (_userData$user = userData.user) === null || _userData$user === void 0 ? void 0 : _userData$user._id;\n  const history = useHistory();\n\n  async function bringDataFromVault() {\n    await Axios.get(`/users/api/vaults/${idUser}`).then(res => {\n      var _res$data, _res$data2;\n\n      console.log(res.data);\n      setVault(res.data);\n      setLastElement((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.vaults[0]._id);\n      setFunds((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.vaults[0].funds);\n    });\n  }\n\n  useEffect(() => {\n    bringDataFromVault();\n  }, [userData]);\n  console.log(lastElement);\n  console.log(vault);\n\n  async function deleteVault() {\n    await Axios.delete(`/users/api/vaults/${idUser}`).then(res => {\n      console.log(res.data);\n      history.push('/');\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: \"div-saldo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"col-steps\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title-green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Saldo Invertido\")), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-purple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"saldo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \" $ \", funds, \" \")))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: \"container-step4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"grid-top-step4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-green-step step4-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Guuru ya esta preparando tu vault!\")), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"grid-mascot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Mascota,\n    alt: \"\",\n    width: \"25%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-green-step step4-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Te avisaremos cuando haya sido armado\")), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"flex-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-vault-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Tu vault ID :\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-vault-nro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"\\xA0\\xA0\", lastElement.slice(-6))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"flex-grid-pendiente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: true,\n    className: \"btn-pendiente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \" Solicitud Pendiente\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: Reloj,\n    alt: \"\",\n    width: \"8%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    className: \"flex-grid-pendiente last\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/step1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-armar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \" Armar otro vault\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-cancelar\",\n    onClick: deleteVault,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \" Cancelar solicitud\"))));\n};\n\nexport default Step4;","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/components/pages/steps/step4.jsx"],"names":["React","useContext","useEffect","useState","Link","useHistory","Axios","Grid","UserContext","Mascota","Reloj","Button","Step4","userData","setUserData","vault","setVault","funds","setFunds","lastElement","setLastElement","idUser","user","_id","history","bringDataFromVault","get","then","res","console","log","data","vaults","deleteVault","delete","push","slice"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Axios from 'axios';\r\nimport { Grid } from \"@mui/material\";\r\nimport UserContext from \"../../../context/userContext\";\r\nimport Mascota from \"../../../assets/Mascota.png\";\r\nimport Reloj from \"../../../assets/icons/RelojArena.png\";\r\nimport { Button } from \"@mui/material\";\r\nimport \"./steps.css\";\r\nimport \"./step4.css\";\r\n\r\nconst Step4 = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const [vault, setVault] = useState([]);\r\n  const [funds, setFunds] = useState(0);\r\n  const [lastElement, setLastElement] = useState([]);\r\n  let idUser = userData.user?._id;\r\n  const history = useHistory();\r\n\r\n  async function bringDataFromVault(){\r\n    await Axios.get(`/users/api/vaults/${idUser}`)\r\n\r\n    .then(res => {\r\n      console.log(res.data)\r\n      setVault(res.data)\r\n      setLastElement(res.data?.vaults[0]._id)\r\n      setFunds(res.data?.vaults[0].funds)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    bringDataFromVault();\r\n  }, [userData])\r\n\r\n\r\n  console.log(lastElement);\r\n  console.log(vault);\r\n\r\n  async function deleteVault(){\r\n    await Axios.delete(`/users/api/vaults/${idUser}`)\r\n    .then(res => {\r\n      console.log(res.data)\r\n      history.push( '/');\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Grid container spacing={0} className=\"div-saldo\">\r\n        <Grid xs={12} className=\"col-steps\">\r\n          <h1 className=\"title-green\">Saldo Invertido</h1>\r\n        </Grid>\r\n        <Grid xs={12}>\r\n          <div className=\"box-purple\">\r\n            <h3 className=\"saldo\"> $ {funds} </h3>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container spacing={0} className=\"container-step4\">\r\n        <Grid xs={12} className=\"grid-top-step4\">\r\n          <h1 className=\"text-green-step step4-text\">\r\n            Guuru ya esta preparando tu vault!\r\n          </h1>\r\n        </Grid>\r\n        <Grid xs={12} className=\"grid-mascot\">\r\n          <img src={Mascota} alt=\"\" width=\"25%\" />\r\n        </Grid>\r\n        <Grid xs={12}>\r\n          <h1 className=\"text-green-step step4-text\">\r\n            Te avisaremos cuando haya sido armado\r\n          </h1>\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid\">\r\n          <label className=\"text-vault-id\">Tu vault ID :</label>\r\n\r\n          <label className=\"text-vault-nro\">&nbsp;&nbsp;{lastElement.slice(-6)}</label>\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid-pendiente\">\r\n          <Button disabled className=\"btn-pendiente\"> Solicitud Pendiente</Button>\r\n          <img src={Reloj} alt=\"\" width=\"8%\" />\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid-pendiente last\">\r\n          <Link to='/step1'>\r\n            <button className=\"btn-armar\"> Armar otro vault</button>\r\n          </Link>\r\n          \r\n          <button className=\"btn-cancelar\" onClick={deleteVault}> Cancelar solicitud</button>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Step4;\r\n"]},"metadata":{},"sourceType":"module"}