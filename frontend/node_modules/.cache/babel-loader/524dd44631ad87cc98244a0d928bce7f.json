{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Natalio-PC\\\\Desktop\\\\Guuru\\\\frontend\\\\src\\\\components\\\\auth\\\\login\\\\Login.jsx\";\nimport React, { Component, useState, useContext } from 'react';\nimport './Login.css';\nimport Header from '../../layout/Header';\nimport FixedBottomNavigation from '../../layout/Footer';\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport UserContext from \"../../../context/userContext\";\nimport ErrorNotice from \"../../../components/misc/ErrorNotice\";\n\nconst Login = () => {\n  //LOGIN STATES\n  const [emailLogin, setEmailLogin] = useState();\n  const [passwordLogin, setPasswordLogin] = useState();\n  const [error, setError] = useState();\n  const {\n    setUserData\n  } = useContext(UserContext);\n  const history = useHistory();\n\n  const submit = async e => {\n    e.preventDefault();\n\n    try {\n      const loginUser = {\n        emailLogin,\n        passwordLogin\n      };\n      const loginResponse = await axios.post(\"http://localhost:5000/users/login\", loginUser);\n      setUserData({\n        token: loginResponse.data.token,\n        user: loginResponse.data.user\n      });\n      localStorage.setItem(\"auth-token\", loginResponse.data.token);\n      localStorage.setItem(\"isAuthenticated\", \"true\");\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  }; //REGISTER STATES\n\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [passwordCheck, setPasswordCheck] = useState();\n  const [displayName, setDisplayName] = useState();\n  const saldo = 0;\n\n  const submitRegister = async e => {\n    e.preventDefault();\n\n    try {\n      const newUser = {\n        email,\n        password,\n        passwordCheck,\n        displayName,\n        saldo\n      };\n      await axios.post(\"http://localhost:5000/users/register\", newUser);\n      const loginResponse = await axios.post(\"http://localhost:5000/users/login\", {\n        email,\n        password\n      });\n      setUserData({\n        token: loginResponse.data.token,\n        user: loginResponse.data.user\n      });\n      localStorage.setItem(\"auth-token\", loginResponse.data.token);\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row full-height justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 text-center align-self-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section pb-5 pt-5 pt-sm-2 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mb-0 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 55\n    }\n  }, \"Log In \"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 75\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"checkbox\",\n    type: \"checkbox\",\n    id: \"reg-log\",\n    name: \"reg-log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"reg-log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-3d-wrap mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-3d-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-front\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-4 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 49\n    }\n  }, \"Log In\"), error && /*#__PURE__*/React.createElement(ErrorNotice, {\n    message: error,\n    clearError: () => setError(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 59\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"logemail\",\n    className: \"form-style\",\n    placeholder: \"Your Email\",\n    id: \"email\",\n    onChange: e => setEmail(e.target.value),\n    autocomplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-at\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"logpass\",\n    className: \"form-style\",\n    placeholder: \"Your Password\",\n    id: \"password\",\n    onChange: e => setPassword(e.target.value),\n    autocomplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-lock-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    type: \"submit\",\n    value: \"Login\",\n    className: \"btn mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 49\n    }\n  }, \"submit\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0 mt-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#0\",\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 86\n    }\n  }, \"Forgot your password?\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-4 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 49\n    }\n  }, \"Sign Up\"), error && /*#__PURE__*/React.createElement(ErrorNotice, {\n    message: error,\n    clearError: () => setError(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 59\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"dsplay-name\",\n    onChange: e => setDisplayName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-at\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-lock-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm password\",\n    onChange: e => setPasswordCheck(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"input-icon uil uil-lock-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 49\n    }\n  }, \"submit\")))))))))))), /*#__PURE__*/React.createElement(FixedBottomNavigation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Natalio-PC/Desktop/Guuru/frontend/src/components/auth/login/Login.jsx"],"names":["React","Component","useState","useContext","Header","FixedBottomNavigation","useHistory","axios","UserContext","ErrorNotice","Login","emailLogin","setEmailLogin","passwordLogin","setPasswordLogin","error","setError","setUserData","history","submit","e","preventDefault","loginUser","loginResponse","post","token","data","user","localStorage","setItem","push","err","response","msg","email","setEmail","password","setPassword","passwordCheck","setPasswordCheck","displayName","setDisplayName","saldo","submitRegister","newUser","undefined","target","value"],"mappings":"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","sourcesContent":["import React, { Component, useState, useContext } from 'react'\r\nimport './Login.css'\r\nimport Header from '../../layout/Header';\r\nimport FixedBottomNavigation from '../../layout/Footer';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport UserContext from \"../../../context/userContext\";\r\nimport ErrorNotice from \"../../../components/misc/ErrorNotice\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n    //LOGIN STATES\r\n    const [emailLogin, setEmailLogin] = useState();\r\n    const [passwordLogin, setPasswordLogin] = useState();\r\n    const [error, setError] = useState();\r\n\r\n    const { setUserData } = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    const submit = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const loginUser = {emailLogin, passwordLogin};\r\n            const loginResponse = await axios.post(\"http://localhost:5000/users/login\", loginUser);\r\n            setUserData({\r\n                token: loginResponse.data.token,\r\n                user: loginResponse.data.user\r\n            });\r\n            localStorage.setItem(\"auth-token\", loginResponse.data.token);\r\n            localStorage.setItem(\"isAuthenticated\", \"true\");\r\n            history.push(\"/\");\r\n        } catch(err) {\r\n            err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n        \r\n    };\r\n\r\n    //REGISTER STATES\r\n    const [email, setEmail] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [passwordCheck, setPasswordCheck] = useState();\r\n    const [displayName, setDisplayName] = useState();\r\n    const saldo = 0;\r\n\r\n    \r\n\r\n    const submitRegister = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try{\r\n            const newUser = {email, password, passwordCheck, displayName, saldo};\r\n            await axios.post(\"http://localhost:5000/users/register\", newUser);\r\n            const loginResponse = await axios.post(\"http://localhost:5000/users/login\", {\r\n                email, password\r\n            });\r\n            setUserData({\r\n                token: loginResponse.data.token,\r\n                user: loginResponse.data.user\r\n            });\r\n            localStorage.setItem(\"auth-token\", loginResponse.data.token);\r\n            history.push(\"/\");\r\n        } catch(err) {\r\n            err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n        \r\n    };\r\n \r\n\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <div className=\"section\">\r\n            <div className=\"container\">\r\n                <div className=\"row full-height justify-content-center\">\r\n                    <div className=\"col-12 text-center align-self-center \">\r\n                        <div className=\"section pb-5 pt-5 pt-sm-2 text-center\">\r\n                            <h6 className=\"mb-0 pb-3\"><span>Log In </span><span>Sign Up</span></h6>\r\n                            <input className=\"checkbox\" type=\"checkbox\" id=\"reg-log\" name=\"reg-log\" />\r\n                            <label for=\"reg-log\"></label>\r\n                            <div className=\"card-3d-wrap mx-auto\">\r\n                                <div className=\"card-3d-wrapper\">\r\n                                    <div className=\"card-front\">\r\n                                        <div className=\"center-wrap\">\r\n                                            <div className=\"section text-center\">\r\n                                                <h4 className=\"mb-4 pb-3\">Log In</h4>\r\n                                                {error && <ErrorNotice message={error} clearError={() => setError(undefined)} />}\r\n                                                <form onSubmit={submit}>\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"email\" name=\"logemail\" className=\"form-style\" placeholder=\"Your Email\" id=\"email\" onChange={e => setEmail(e.target.value)}autocomplete=\"off\" />\r\n                                                    <i className=\"input-icon uil uil-at\"></i>\r\n                                                </div>\r\n                                                <div className=\"form-group mt-2\">\r\n                                                    <input type=\"password\" name=\"logpass\" className=\"form-style\" placeholder=\"Your Password\" id=\"password\" onChange={e => setPassword(e.target.value)} autocomplete=\"off\" />\r\n                                                    <i className=\"input-icon uil uil-lock-alt\"></i>\r\n                                                </div>\r\n                                                <a href=\"#\"  type=\"submit\" value=\"Login\" className=\"btn mt-4\">submit</a>\r\n                                                <p className=\"mb-0 mt-4 text-center\"><a href=\"#0\" className=\"link\">Forgot your password?</a></p>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"card-back\">\r\n                                        <div className=\"center-wrap\">\r\n                                            <div className=\"section text-center\">\r\n                                                <h4 className=\"mb-4 pb-3\">Sign Up</h4>\r\n                                                {error && <ErrorNotice message={error} clearError={() => setError(undefined)} />}\r\n                                                <form onSubmit={submitRegister}>\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"text\" id=\"dsplay-name\" onChange={e => setDisplayName(e.target.value)} />\r\n                                                    <i className=\"input-icon uil uil-user\"></i>\r\n                                                </div>\r\n                                                <div className=\"form-group mt-2\">\r\n                                                    <input  type=\"email\" id=\"email\" onChange={e => setEmail(e.target.value)} />\r\n                                                    <i className=\"input-icon uil uil-at\"></i>\r\n                                                </div>\r\n                                                <div className=\"form-group mt-2\">\r\n                                                    <input type=\"password\" id=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                                                    <i className=\"input-icon uil uil-lock-alt\"></i>\r\n                                                </div>\r\n                                                <div className=\"form-group mt-2\">\r\n                                                    <input type=\"password\" placeholder=\"Confirm password\" onChange={e => setPasswordCheck(e.target.value)} />\r\n                                                    <i className=\"input-icon uil uil-lock-alt\"></i>\r\n                                                </div>\r\n                                                <input type=\"submit\" className=\"btn mt-4\">submit</input>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <FixedBottomNavigation/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}