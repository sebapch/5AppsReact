{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\src\\\\components\\\\utils\\\\adminTable\\\\adminTable.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Axios from \"axios\";\nimport { Button } from '@mui/material';\nimport './adminTable.css';\nexport default function BasicTable() {\n  var _users$data2;\n\n  const [users, setUsers] = useState([]);\n  const [deactivated, setDeactivated] = useState(0);\n  let count = 0;\n\n  function traerVaults() {\n    Axios.get(\"/users/api/vaults\").then(res => {\n      console.log(res);\n      setUsers(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    traerVaults();\n  }, []);\n  console.log(users.data);\n\n  function deleteUser(id) {\n    Axios.delete(`/users/api/${id}`).then(res => {\n      console.log(res);\n      window.location.reload();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    var _users$data;\n\n    let newState = (_users$data = users.data) === null || _users$data === void 0 ? void 0 : _users$data.map(e => e);\n    setUser(newState);\n    console.log(newState);\n  }, [users]);\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    className: \"admin-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    sx: {\n      minWidth: 650\n    },\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"UserName\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Saldo\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Solicitudes\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Vaults Activas\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, (_users$data2 = users.data) === null || _users$data2 === void 0 ? void 0 : _users$data2.map((user, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index,\n    sx: {\n      '&:last-child td, &:last-child th': {\n        border: 0\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user._id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user.displayName), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user.email), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user.saldo), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user.vaults.map(user => (user === null || user === void 0 ? void 0 : user.activated) == false ? count++ : null)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, user === null || user === void 0 ? void 0 : user.vaults.length), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/edit/${user._id}`,\n    className: \"links-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Editar\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"error\",\n    onClick: () => deleteUser(user._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 16\n    }\n  }, \"Eliminar\")))))));\n}","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/components/utils/adminTable/adminTable.jsx"],"names":["React","useState","useEffect","Link","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Axios","Button","BasicTable","users","setUsers","deactivated","setDeactivated","count","traerVaults","get","then","res","console","log","catch","err","data","deleteUser","id","delete","window","location","reload","newState","map","e","setUser","minWidth","user","index","border","_id","displayName","email","saldo","vaults","activated","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Axios from \"axios\";\r\nimport { Button } from '@mui/material';\r\nimport './adminTable.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function BasicTable() {\r\n  const [users, setUsers] = useState([]);\r\n  const [deactivated, setDeactivated]= useState(0);\r\n  let count = 0;\r\n\r\n  function traerVaults(){\r\n    Axios.get(\"/users/api/vaults\")\r\n            .then(res => {\r\n              console.log(res)\r\n              \r\n              setUsers(res)\r\n            })\r\n            .catch(err => {\r\n              console.log(err)\r\n            })\r\n  }\r\n  useEffect(() => {\r\n    traerVaults();\r\n  }, []);\r\n\r\nconsole.log(users.data);\r\n \r\nfunction deleteUser(id){\r\n  \r\n  Axios.delete(`/users/api/${id}`)\r\n  .then(res => {\r\n    console.log(res)\r\n    window.location.reload();\r\n  })\r\n  .catch(err => { console.log(err) })\r\n}\r\n\r\n\r\nuseEffect(() => {\r\n  let newState = users.data?.map((e) =>e )\r\n  setUser(newState);\r\n  console.log(newState);\r\n}, [users])\r\n\r\n  \r\n\r\n  return (\r\n    <TableContainer component={Paper} className=\"admin-container\">\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>ID</TableCell>\r\n            <TableCell align=\"right\">UserName</TableCell>\r\n            <TableCell align=\"right\">Email</TableCell>\r\n            <TableCell align=\"right\">Saldo</TableCell>\r\n            <TableCell align=\"right\">Solicitudes</TableCell>\r\n            <TableCell align=\"right\">Vaults Activas</TableCell>\r\n            <TableCell align=\"right\">Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {users.data?.map((user, index) => (\r\n            \r\n            <TableRow\r\n              key={index}\r\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n            >\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {user?._id}\r\n                \r\n              </TableCell>\r\n              <TableCell align=\"right\">{user?.displayName}</TableCell>\r\n              <TableCell align=\"right\">{user?.email}</TableCell>\r\n              <TableCell align=\"right\">{user?.saldo}</TableCell>\r\n            \r\n              <TableCell align=\"right\">\r\n              {user?.vaults.map((user) =>\r\n               (\r\n                 \r\n                (user?.activated == false  ? count++  : null)\r\n\r\n            ))}\r\n\r\n\r\n\r\n            </TableCell>\r\n              <TableCell align=\"right\">{(user?.vaults.length)}</TableCell>\r\n             <TableCell align=\"right\">\r\n             <Link to={`/edit/${user._id}`} className=\"links-footer\">\r\n                <Button color=\"secondary\" >\r\n                  Editar\r\n                </Button>\r\n              </Link>\r\n               \r\n               <Button color=\"error\" onClick={() => deleteUser(user._id)}>Eliminar</Button>\r\n             </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}