{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import Axios from\"axios\";import{Button}from'@mui/material';import'./adminTable.css';export default function BasicTable(){var _users$data;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];function traerVaults(){Axios.get(\"/users/api/vaults\").then(function(res){console.log(res);setUsers(res);}).catch(function(err){console.log(err);});}useEffect(function(){traerVaults();},[]);console.log(users.data);function deleteUser(id){Axios.delete(\"/users/api/\".concat(id)).then(function(res){console.log(res);window.location.reload();}).catch(function(err){console.log(err);});}return/*#__PURE__*/React.createElement(TableContainer,{component:Paper,className:\"admin-container\"},/*#__PURE__*/React.createElement(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"ID\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"UserName\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Email\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Saldo\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Vaults\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Actions\"))),/*#__PURE__*/React.createElement(TableBody,null,(_users$data=users.data)===null||_users$data===void 0?void 0:_users$data.map(function(user,index){return/*#__PURE__*/React.createElement(TableRow,{key:index,sx:{'&:last-child td, &:last-child th':{border:0}}},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},user===null||user===void 0?void 0:user._id,console.log(user===null||user===void 0?void 0:user.vaults.length)),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},user===null||user===void 0?void 0:user.displayName),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},user===null||user===void 0?void 0:user.email),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},user===null||user===void 0?void 0:user.saldo),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},user===null||user===void 0?void 0:user.vaults.length),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Link,{to:\"/edit/\".concat(user._id),className:\"links-footer\"},/*#__PURE__*/React.createElement(Button,{color:\"secondary\"},\"Editar\")),/*#__PURE__*/React.createElement(Button,{color:\"error\",onClick:function onClick(){return deleteUser(user._id);}},\"Eliminar\")));}))));}","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/components/utils/adminTable/adminTable.jsx"],"names":["React","useState","useEffect","Link","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Axios","Button","BasicTable","users","setUsers","traerVaults","get","then","res","console","log","catch","err","data","deleteUser","id","delete","window","location","reload","minWidth","map","user","index","border","_id","vaults","length","displayName","email","saldo"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Axios from \"axios\";\r\nimport { Button } from '@mui/material';\r\nimport './adminTable.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function BasicTable() {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  function traerVaults(){\r\n    Axios.get(\"/users/api/vaults\")\r\n            .then(res => {\r\n              console.log(res)\r\n              \r\n              setUsers(res)\r\n            })\r\n            .catch(err => {\r\n              console.log(err)\r\n            })\r\n  }\r\n  useEffect(() => {\r\n    traerVaults();\r\n\r\n  }, []);\r\n\r\nconsole.log(users.data);\r\n \r\nfunction deleteUser(id){\r\n  \r\n  Axios.delete(`/users/api/${id}`)\r\n  .then(res => {\r\n    console.log(res)\r\n    window.location.reload();\r\n  })\r\n  .catch(err => { console.log(err) })\r\n}\r\n\r\n  \r\n\r\n  return (\r\n    <TableContainer component={Paper} className=\"admin-container\">\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>ID</TableCell>\r\n            <TableCell align=\"right\">UserName</TableCell>\r\n            <TableCell align=\"right\">Email</TableCell>\r\n            <TableCell align=\"right\">Saldo</TableCell>\r\n            <TableCell align=\"right\">Vaults</TableCell>\r\n            <TableCell align=\"right\">Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {users.data?.map((user, index) => (\r\n            \r\n            <TableRow\r\n              key={index}\r\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n            >\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {user?._id}\r\n                {console.log((user?.vaults.length ))}\r\n              </TableCell>\r\n              <TableCell align=\"right\">{user?.displayName}</TableCell>\r\n              <TableCell align=\"right\">{user?.email}</TableCell>\r\n              <TableCell align=\"right\">{user?.saldo}</TableCell>\r\n              <TableCell align=\"right\">{(user?.vaults.length)}</TableCell>\r\n             <TableCell align=\"right\">\r\n             <Link to={`/edit/${user._id}`} className=\"links-footer\">\r\n                <Button color=\"secondary\" >\r\n                  Editar\r\n                </Button>\r\n              </Link>\r\n               \r\n               <Button color=\"error\" onClick={() => deleteUser(user._id)}>Eliminar</Button>\r\n             </TableCell>\r\n \r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}