{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\snmed\\\\Desktop\\\\guuru\\\\guuru2\\\\Guuru_main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import Axios from'axios';import{Grid}from\"@mui/material\";import UserContext from\"../../../context/userContext\";import Mascota from\"../../../assets/Mascota.png\";import Reloj from\"../../../assets/icons/RelojArena.png\";import{Button}from\"@mui/material\";import\"./steps.css\";import\"./step4.css\";var Step4=function Step4(){var _userData$user;var _useContext=useContext(UserContext),userData=_useContext.userData,setUserData=_useContext.setUserData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),vault=_useState2[0],setVault=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),funds=_useState4[0],setFunds=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),lastElement=_useState6[0],setLastElement=_useState6[1];var idUser=(_userData$user=userData.user)===null||_userData$user===void 0?void 0:_userData$user._id;var history=useHistory();function bringDataFromVault(){return _bringDataFromVault.apply(this,arguments);}function _bringDataFromVault(){_bringDataFromVault=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"/users/api/vaults/\".concat(idUser)).then(function(res){var _res$data,_res$data2;console.log(res.data);setVault(res.data);setLastElement((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.vaults[0]._id);setFunds((_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.vaults[0].funds);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _bringDataFromVault.apply(this,arguments);}useEffect(function(){bringDataFromVault();},[userData]);console.log(lastElement);console.log(vault);function deleteVault(){return _deleteVault.apply(this,arguments);}function _deleteVault(){_deleteVault=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.delete(\"/users/api/vaults/\".concat(idUser)).then(function(res){console.log(res.data);history.push('/');});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteVault.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:0,className:\"div-saldo\"},/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"col-steps\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title-green\"},\"Saldo Invertido\")),/*#__PURE__*/React.createElement(Grid,{xs:12},/*#__PURE__*/React.createElement(\"div\",{className:\"box-purple\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"saldo\"},\" $ \",funds,\" \")))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:0,className:\"container-step4\"},/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"grid-top-step4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-green-step step4-text\"},\"Guuru ya esta preparando tu vault!\")),/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"grid-mascot\"},/*#__PURE__*/React.createElement(\"img\",{src:Mascota,alt:\"\",width:\"25%\"})),/*#__PURE__*/React.createElement(Grid,{xs:12},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-green-step step4-text\"},\"Te avisaremos cuando haya sido armado\")),/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"flex-grid\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-vault-id\"},\"Tu vault ID :\"),/*#__PURE__*/React.createElement(\"label\",{className:\"text-vault-nro\"},\"\\xA0\\xA0\",lastElement.slice(-6))),/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"flex-grid-pendiente\"},/*#__PURE__*/React.createElement(Button,{disabled:true,className:\"btn-pendiente\"},\" Solicitud Pendiente\"),/*#__PURE__*/React.createElement(\"img\",{src:Reloj,alt:\"\",width:\"8%\"})),/*#__PURE__*/React.createElement(Grid,{xs:12,className:\"flex-grid-pendiente last\"},/*#__PURE__*/React.createElement(Link,{to:\"/step1\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn-armar\"},\" Armar otro vault\")),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-cancelar\",onClick:deleteVault},\" Cancelar solicitud\"))));};export default Step4;","map":{"version":3,"sources":["C:/Users/snmed/Desktop/guuru/guuru2/Guuru_main/frontend/src/components/pages/steps/step4.jsx"],"names":["React","useContext","useEffect","useState","Link","useHistory","Axios","Grid","UserContext","Mascota","Reloj","Button","Step4","userData","setUserData","vault","setVault","funds","setFunds","lastElement","setLastElement","idUser","user","_id","history","bringDataFromVault","get","then","res","console","log","data","vaults","deleteVault","delete","push","slice"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Axios from 'axios';\r\nimport { Grid } from \"@mui/material\";\r\nimport UserContext from \"../../../context/userContext\";\r\nimport Mascota from \"../../../assets/Mascota.png\";\r\nimport Reloj from \"../../../assets/icons/RelojArena.png\";\r\nimport { Button } from \"@mui/material\";\r\nimport \"./steps.css\";\r\nimport \"./step4.css\";\r\n\r\nconst Step4 = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const [vault, setVault] = useState([]);\r\n  const [funds, setFunds] = useState(0);\r\n  const [lastElement, setLastElement] = useState([]);\r\n  let idUser = userData.user?._id;\r\n  const history = useHistory();\r\n\r\n  async function bringDataFromVault(){\r\n    await Axios.get(`/users/api/vaults/${idUser}`)\r\n\r\n    .then(res => {\r\n      console.log(res.data)\r\n      setVault(res.data)\r\n      setLastElement(res.data?.vaults[0]._id)\r\n      setFunds(res.data?.vaults[0].funds)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    bringDataFromVault();\r\n  }, [userData])\r\n\r\n\r\n  console.log(lastElement);\r\n  console.log(vault);\r\n\r\n  async function deleteVault(){\r\n    await Axios.delete(`/users/api/vaults/${idUser}`)\r\n    .then(res => {\r\n      console.log(res.data)\r\n      history.push( '/');\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Grid container spacing={0} className=\"div-saldo\">\r\n        <Grid xs={12} className=\"col-steps\">\r\n          <h1 className=\"title-green\">Saldo Invertido</h1>\r\n        </Grid>\r\n        <Grid xs={12}>\r\n          <div className=\"box-purple\">\r\n            <h3 className=\"saldo\"> $ {funds} </h3>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container spacing={0} className=\"container-step4\">\r\n        <Grid xs={12} className=\"grid-top-step4\">\r\n          <h1 className=\"text-green-step step4-text\">\r\n            Guuru ya esta preparando tu vault!\r\n          </h1>\r\n        </Grid>\r\n        <Grid xs={12} className=\"grid-mascot\">\r\n          <img src={Mascota} alt=\"\" width=\"25%\" />\r\n        </Grid>\r\n        <Grid xs={12}>\r\n          <h1 className=\"text-green-step step4-text\">\r\n            Te avisaremos cuando haya sido armado\r\n          </h1>\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid\">\r\n          <label className=\"text-vault-id\">Tu vault ID :</label>\r\n\r\n          <label className=\"text-vault-nro\">&nbsp;&nbsp;{lastElement.slice(-6)}</label>\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid-pendiente\">\r\n          <Button disabled className=\"btn-pendiente\"> Solicitud Pendiente</Button>\r\n          <img src={Reloj} alt=\"\" width=\"8%\" />\r\n        </Grid>\r\n        <Grid xs={12} className=\"flex-grid-pendiente last\">\r\n          <Link to='/step1'>\r\n            <button className=\"btn-armar\"> Armar otro vault</button>\r\n          </Link>\r\n          \r\n          <button className=\"btn-cancelar\" onClick={deleteVault}> Cancelar solicitud</button>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Step4;\r\n"]},"metadata":{},"sourceType":"module"}